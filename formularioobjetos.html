<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario</title>
</head>
<body>
    

    <h1>DATOS PERSONAS</h1>
    <form id="datosper">

        <label>Nombre:</label><br>
        <input type="text" style="display: none;" id="nombre" name="nombre" value="pedrito" disabled><br><br>

        <label>Ciudad:</label><br>
        <input type="text" id="ciudad" name="ciudad" value="madrid"><br><br>

        <label>Edad:</label><br>
        <input type="number" id="edad" name="edad" value="23"><br><br>

        <button type="button" onclick="añadirPersonas()">Insertar</button>
    </form>

    <h2>PERSONAS INSERTADAS</h2>
    <div id="datos"></div>

<script>

    //Array Para los objetos personas
    let datosPersonas = [];

    function añadirPersonas(){
        //Recoger datos del formulario
        const nombre = document.getElementById("nombre").value;
        const ciudad = document.getElementById("ciudad").value;
        const edad = document.getElementById("edad").value;

        //Creas un objeto con estos valores para insertarlo en el array
        const nuevaPersona = {
            nombre: nombre,
            ciudad: ciudad,
            edad: edad
        };

        //Insertar el objeto persona en el Array DatosPersonas
        datosPersonas.push(nuevaPersona); 

        //Limpiar datos del formulario
        document.getElementById("datosper").reset();
       
        mostrarPersonas();

    };

    function mostrarPersonas(){

      const contenedor = document.getElementById("datos").innerHTML = ""; //Limpiar lo que tenga anteriormente

      datosPersonas.forEach((dato,index)=>{
            const divmuestra=document.createElement("div")
            divmuestra.innerHTML = `
            <h2>Código: ${index+1}</h2>
            <p>Nombre: ${dato.nombre}</p>
            <p>Ciudad: ${dato.ciudad}</p>
            <p>Edad: ${dato.edad}</p>
            `;
            datos.appendChild(divmuestra)

        })

    }

</script>

</body>
</html>